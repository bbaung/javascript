<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>treeWalker</title>
</head>
<body>

    <h1>treeWalker</h1>

    <ul>
        <li>parentNode() - Travels to the current node's parent.</li>
        <li>firstChild() - Travels to the first child of the current node.</li>
        <li>lastChild() - Travels to the last child of the current node.</li>
        <li>nextSibling() - Travels to the next sibling of the currnet node.</li>
        <li>previousSibling() - Travels to the previous sibling of the current node.</li>
    </ul>

    <div id="div">
        <p>p1</p>
        <p>p2</p>
        <h1>h1</h1>
        <h1>h2</h1>
        <p>p3</p>
    </div>

    <script>
        let div = document.getElementById('div');

        let whatToShow = NodeFilter.SHOW_ELEMENT;

        let filter = function(node){
            return node.tagName.toLowerCase() == 'p' ?
                NodeFilter.FILTER_ACCEPT:
                NodeFilter.FILTER_SKIP;
        }

        let iterator = document.createTreeWalker(div,whatToShow,filter,false);

        let node = iterator.nextNode();

        setInterval(function() {
            if (node) {
                console.log(node); // Log the current node
                node = iterator.nextSibling(); // Move to the next node
            } else {
                clearInterval(interval); // Stop the interval when there are no more nodes
            }
        }, 1500);
    </script>
    
</body>
</html>